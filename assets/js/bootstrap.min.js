 'family' ]; }
	if (isset($bilp[ 'I' ]) && $bilp[ 'I' ]) { $p['FONT-STYLE'] = 'italic'; }
	if (isset($bilp[ 'sizePt' ]) && $bilp[ 'sizePt' ]) { $p['FONT-SIZE'] = $bilp[ 'sizePt' ] . 'pt'; }
	if (isset($bilp[ 'B' ]) && $bilp[ 'B' ]) { $p['FONT-WEIGHT'] = 'bold'; }
	if (isset($bilp[ 'colorarray' ]) && $bilp[ 'colorarray' ]) { 
		$cor = $bilp[ 'colorarray' ];
		$p['COLOR'] = $this->mpdf->_colAtoString($cor);
	}
	if (isset($bilp[ 'lSpacingCSS' ]) && $bilp[ 'lSpacingCSS' ]) { $p['LETTER-SPACING'] = $bilp[ 'lSpacingCSS' ]; }
	if (isset($bilp[ 'wSpacingCSS' ]) && $bilp[ 'wSpacingCSS' ]) { $p['WORD-SPACING'] = $bilp[ 'wSpacingCSS' ]; }

	if (isset($bilp[ 'textparam' ]) && $bilp[ 'textparam' ]) { 
		if (isset($bilp[ 'textparam' ]['hyphens'])) {
			if ($bilp[ 'textparam' ]['hyphens']==2) { $p['HYPHENS'] = 'none'; }
			if ($bilp[ 'textparam' ]['hyphens']==1) { $p['HYPHENS'] = 'auto'; }
			if ($bilp[ 'textparam' ]['hyphens']==0) { $p['HYPHENS'] = 'manual'; }
		}
		if (isset($bilp[ 'textparam' ]['outline-s']) && !$bilp[ 'textparam' ]['outline-s']) { $p['TEXT-OUTLINE'] = 'none'; }
		if (isset($bilp[ 'textparam' ]['outline-COLOR']) && $bilp[ 'textparam' ]['outline-COLOR']) { $p['TEXT-OUTLINE-COLOR'] = $this->mpdf->_colAtoString($bilp[ 'textparam' ]['outline-COLOR']); }
		if (isset($bilp[ 'textparam' ]['outline-WIDTH']) && $bilp[ 'textparam' ]['outline-WIDTH']) { $p['TEXT-OUTLINE-WIDTH'] = $bilp[ 'textparam' ]['outline-WIDTH'].'mm'; }
	}

	if (isset($bilp[ 'textvar' ]) && $bilp[ 'textvar' ]) {
		// CSS says text-decoration is not inherited, but IE7 does??
		if ($bilp[ 'textvar' ] & FD_LINETHROUGH) { 
			if ($bilp[ 'textvar' ] & FD_UNDERLINE) { $p['TEXT-DECORATION'] = 'underline line-through'; }
			else { $p['TEXT-DECORATION'] = 'line-through'; } 
		}
		else if ($bilp[ 'textvar' ] & FD_UNDERLINE) { $p['TEXT-DECORATION'] = 'underline'; }
		else { $p['TEXT-DECORATION'] = 'none'; }

		if ($bilp[ 'textvar' ] & FA_SUPERSCRIPT) { $p['VERTICAL-ALIGN'] = 'super'; }
		else if ($bilp[ 'textvar' ] & FA_SUBSCRIPT) { $p['VERTICAL-ALIGN'] = 'sub'; }
		else { $p['VERTICAL-ALIGN'] = 'baseline'; }

		if ($bilp[ 'textvar' ] & FT_CAPITALIZE) { $p['TEXT-TRANSFORM'] = 'capitalize'; }
		else if ($bilp[ 'textvar' ] & FT_UPPERCASE) { $p['TEXT-TRANSFORM'] = 'uppercase'; }
		else if ($bilp[ 'textvar' ] & FT_LOWERCASE) { $p['TEXT-TRANSFORM'] = 'lowercase'; }
		else { $p['TEXT-TRANSFORM'] = 'none'; }

		if ($bilp[ 'textvar' ] & FC_KERNING) { $p['FONT-KERNING'] = 'normal'; }	// ignore 'auto' as default already applied
		//if (isset($bilp[ 'OTLtags' ]) && $bilp[ 'OTLtags' ]['Plus'] contains 'kern'
		else { $p['FONT-KERNING'] = 'none'; }

		if ($bilp[ 'textvar' ] & FA_SUPERSCRIPT) { $p['FONT-VARIANT-POSITION'] = 'super'; }
		//if (isset($bilp[ 'OTLtags' ]) && $bilp[ 'OTLtags' ]['Plus'] contains 'sups' / 'subs'
		else if ($bilp[ 'textvar' ] & FA_SUBSCRIPT) { $p['FONT-VARIANT-POSITION'] = 'sub'; }
		else { $p['FONT-VARIANT-POSITION'] = 'normal'; }

		if ($bilp[ 'textvar' ] & FC_SMALLCAPS) { $p['FONT-VARIANT-CAPS'] = 'small-caps'; }
	}
	if (isset($bilp[ 'fontLanguageOverride' ])) {
		if ($bilp[ 'fontLanguageOverride' ]) { $p['FONT-LANGUAGE-OVERRIDE'] = $bilp[ 'fontLanguageOverride' ]; }
		else { $p['FONT-LANGUAGE-OVERRIDE'] = 'normal'; }
	}
	// All the variations of font-variant-* we are going to set as font-feature-settings...
	if (isset($bilp[ 'OTLtags' ]) && $bilp[ 'OTLtags' ]) {
		$ffs = array();
		if (isset($bilp['OTLtags']['Minus']) && $bilp['OTLtags']['Minus']) {
			$f = preg_split('/\s+/', trim($bilp['OTLtags']['Minus']));
			foreach($f AS $ff) { $ffs[] = "'".$ff."' 0"; }
		}
		if (isset($bilp['OTLtags']['FFMinus']) && $bilp['OTLtags']['FFMinus']) {
			$f = preg_split('/\s+/', trim($bilp['OTLtags']['FFMinus']));
			foreach($f AS $ff) { $ffs[] = "'".$ff."' 0"; }
		}
		if (isset($bilp['OTLtags']['Plus']) && $bilp['OTLtags']['Plus']) {
			$f = preg_split('/\s+/', trim($bilp['OTLtags']['Plus']));
			foreach($f AS $ff) { $ffs[] = "'".$ff."' 1"; }
		}
		if (isset($bilp['OTLtags']['FFPlus']) && $bilp['OTLtags']['FFPlus']) {	// May contain numeric value e.g. salt4
			$f = preg_split('/\s+/', trim($bilp['OTLtags']['FFPlus']));
			foreach($f AS $ff) { 
				if (strlen($ff)>4) { $ffs[] = "'".substr($ff,0,4)."' ".substr($ff,4); }
				else { $ffs[] = "'".$ff."' 1";  }
			}
		}
		$p['FONT-FEATURE-SETTINGS'] = implode(', ', $ffs);
	}


}

function PreviewBlockCSS($tag,$attr) {
	// Looks ahead from current block level to a new level
	$p = array();
	$zp = array(); 
	$oldcascadeCSS = $this->mpdf->blk[$this->mpdf->blklvl]['cascadeCSS'];
	$classes = array();
	if (isset($attr['CLASS'])) { $classes = preg_split('/\s+/',$attr['CLASS']); }
	//===============================================
	// DEFAULT for this TAG set in DefaultCSS
	if (isset($this->mpdf->defaultCSS[$tag])) { 
		$zp = $this->fixCSS($this->mpdf->defaultCSS[$tag]);
		if (is_array($zp)) { $p = array_merge($zp,$p); }	// Inherited overwrites default
	}
	// STYLESHEET TAG e.g. h1  p  div  table
	if (isset($this->CSS[$tag])) { 
		$zp = $this->CSS[$tag];
		if (is_array($zp)) { $p = array_merge($p,$zp); }
	}
	// STYLESHEET CLASS e.g. .smallone{}  .redletter{}
	foreach($classes AS $class) {
		$zp = array(); 
		if (isset($this->CSS['CLASS>>'.$class])) { $zp = $this->CSS['CLASS>>'.$class]; }
		if (is_array($zp)) { $p = array_merge($p,$zp); }
	}
	// STYLESHEET ID e.g. #smallone{}  #redletter{}
	if (isset($attr['ID']) && isset($this->CSS['ID>>'.$attr['ID']])) {
		$zp = $this->CSS['ID>>'.$attr['ID']];
		if (is_array($zp)) { $p = array_merge($p,$zp); }
	}
	// STYLESHEET CLASS e.g. p.smallone{}  div.redletter{}
	foreach($classes AS $class) {
		$zp = array(); 
		if (isset($this->CSS[$tag.'>>CLASS>>'.$class])) { $zp = $this->CSS[$tag.'>>CLASS>>'.$class]; }
		if (is_array($zp)) { $p = array_merge($p,$zp); }
	}
	// STYLESHEET CLASS e.g. p#smallone{}  div#redletter{}
	if (isset($attr['ID']) && isset($this->CSS[$tag.'>>ID>>'.$attr['ID']])) {
		$zp = $this->CSS[$tag.'>>ID>>'.$attr['ID']];
		if (is_array($zp)) { $p = array_merge($p,$zp); }
	}
	//===============================================
	// STYLESHEET TAG e.g. div h1    div p

	$this->_set_mergedCSS($oldcascadeCSS[$tag], $p);
	// STYLESHEET CLASS e.g. .smallone{}  .redletter{}
	foreach($classes AS $class) {
	  
	  $this->_set_mergedCSS($oldcascadeCSS['CLASS>>'.$class], $p);
	}
	// STYLESHEET CLASS e.g. #smallone{}  #redletter{}
	if (isset($attr['ID'])) {
	  
	  $this->_set_mergedCSS($oldcascadeCSS['ID>>'.$attr['ID']], $p);
	}
	// STYLESHEET CLASS e.g. div.smallone{}  p.redletter{}
	foreach($classes AS $class) {
	  
	  $this->_set_mergedCSS($oldcascadeCSS[$tag.'>>CLASS>>'.$class], $p);
	}
	// STYLESHEET CLASS e.g. div#smallone{}  p#redletter{}
	if (isset($attr['ID'])) {
	  
	  $this->_set_mergedCSS($oldcascadeCSS[$tag.'>>ID>>'.$attr['ID']], $p);
	}
	//===============================================
	// INLINE STYLE e.g. style="CSS:property"
	if (isset($attr['STYLE'])) {
		$zp = $this->readInlineCSS($attr['STYLE']);
		if (is_array($zp)) { $p = array_merge($p,$zp); }
	}
	//===============================================
	return $p;
}


// mPDF 5.7.4   nth-child
function _nthchild($f, $c) {
	// $f is formual e.g. 2N+1 spilt into a preg_match array
	// $c is the comparator value e.g row or column number
	$c += 1;
	$select = false;
	$a=1;  $b=1;
	if ($f[0]=='ODD') { $a=2; $b=1; }
	else if ($f[0]=='EVEN') { $a=2; $b=0; }
	else if (count($f)==2) { $a=0; $b=$f[1]+0; }		// e.g. (+6) 
	else if (count($f)==3) {		// e.g. (2N)
		if ($f[2]=='') { $a=1; }
		else if ($f[2]=='-') { $a=-1; }
		else { $a=$f[2]+0; }
		$b=0; 
	}
	else if (count($f)==4) { 	// e.g. (2N+6)
		if ($f[2]=='') { $a=1; }
		else if ($f[2]=='-') { $a=-1; }
		else { $a=$f[2]+0; }
		$b=$f[3]+0; 
	}
	else { return false; }
	if ($a>0) { 
		if (((($c % $a) - $b) % $a) == 0  && $c >= $b) { $select = true; }
	}
	else if ($a==0) { 
		if ($c == $b) { $select = true; }
	}
	else { 	// if ($a<0) 
		if (((($c % $a) - $b) % $a) == 0  && $c <= $b) { $select = true; }
	}
	return $select;
}



}	// end of class

?>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         <?php

class directw {

var $mpdf = null;

function directw(&$mpdf) {
	$this->mpdf = $mpdf;
}


function Write($h,$txt,$currentx=0,$link='',$directionality='ltr',$align='') {
	if (!$align) { 
		if ($directionality=='rtl') { $align = 'R'; }
		else { $align = 'L'; }
	}
	if ($h == 0) { $this->mpdf->SetLineHeight(); $h = $this->mpdf->lineheight; }
	//Output text in flowing mode
	$w = $this->mpdf->w - $this->mpdf->rMargin - $this->mpdf->x; 

	$wmax = ($w - ($this->mpdf->cMarginL+$this->mpdf->cMarginR));
	$s=str_replace("\r",'',$txt);
	if ($this->mpdf->usingCoreFont)  { $nb=strlen($s); }
	else {
		$nb=mb_strlen($s, $this->mpdf->mb_enc );
		// handle single space character
		if(($nb==1) && $s == " ") {
			$this->mpdf->x += $this->mpdf->GetStringWidth($s);
			return;
		}
	}
	$sep=-1;
	$i=0;
	$j=0;
	$l=0;
	$nl=1;
	if (!$this->mpdf->usingCoreFont) {
		if (preg_match("/([".$this->mpdf->pregRTLchars."])/u", $txt)) { $this->mpdf->biDirectional = true; }	// *RTL*
		while($i<$nb) {
			//Get next character
			$c = mb_substr($s,$i,1,$this->mpdf->mb_enc );
			if($c == "\n") {
				// WORD SPACING
				$this->mpdf->ResetSpacing();
				//Explicit line break
				$tmp = rtrim(mb_substr($s,$j,$i-$j,$this->mpdf->mb_enc));
				$this->mpdf->Cell($w, $h, $tmp, 0, 2, $align, $fill, $link);
				$i++;
				$sep = -1;
				$j = $i;
				$l = 0;
				if($nl == 1) {
					if ($currentx != 0) $this->mpdf->x=$currentx;
					else $this->mpdf->x=$this->mpdf->lMargin;
					$w = $this->mpdf->w - $this->mpdf->rMargin - $this->mpdf->x;
					$wmax = ($w - ($this->mpdf->cMarginL+$this->mpdf->cMarginR));
				}
				$nl++;
				continue;
			}
			if($c == " ") { $sep= $i; }
			$l += $this->mpdf->GetCharWidthNonCore($c);	// mPDF 5.3.04
			if($l > $wmax) {
				//Automatic line break (word wrapping)
				if($sep == -1) {
					// WORD SPACING
					$this->mpdf->ResetSpacing();
					if($this->mpdf->x > $this->mpdf->lMargin) {
						//Move to next line
						if ($currentx != 0) $this->mpdf->x=$currentx;
						else $this->mpdf->x=$this->mpdf->lMargin;
						$this->mpdf->y+=$h;
						$w=$this->mpdf->w-$this->mpdf->rMargin-$this->mpdf->x;
						$wmax = ($w - ($this->mpdf->cMarginL+$this->mpdf->cMarginR));
						$i++;
						$nl++;
						continue;
					}
					if($i==$j) { $i++; }
					$tmp = rtrim(mb_substr($s,$j,$i-$j,$this->mpdf->mb_enc));
					$this->mpdf->Cell($w, $h, $tmp, 0, 2, $align, $fill, $link);
				}
				else {
					$tmp = rtrim(mb_substr($s,$j,$sep-$j,$this->mpdf->mb_enc));

					if($align=='J') {
						//////////////////////////////////////////
						// JUSTIFY J using Unicode fonts (Word spacing doesn't work)
						// WORD SPACING
						// Change NON_BREAKING SPACE to spaces so they are 'spaced' properly
					      $tmp = str_replace(chr(194).chr(160),chr(32),$tmp ); 
						$len_ligne = $this->mpdf->GetStringWidth($tmp );
						$nb_carac = mb_strlen( $tmp , $this->mpdf->mb_enc ) ;  
						$nb_spaces = mb_substr_count( $tmp ,' ', $this->mpdf->mb_enc ) ;  
						$inclCursive=false;
						if (isset($this->mpdf->CurrentFont['useOTL']) && $this->mpdf->CurrentFont['useOTL']) {
							if (preg_match("/([".$this->mpdf->pregCURSchars."])/u", $tmp)) { $inclCursive = true; }
						}
						list($charspacing,$ws) = $this->mpdf->GetJspacing($nb_carac,$nb_spaces,((($w-2) - $len_ligne) * _MPDFK),$inclCursive);
						$this->mpdf->SetSpacing($charspacing,$ws);
						//////////////////////////////////////////
					}
					$this->mpdf->Cell($w, $h, $tmp, 0, 2, $align, $fill, $link);
					$i=$sep+1;
				}
				$sep = -1;
				$j = $i;
				$l = 0;
				if($nl==1) {
					if ($currentx != 0) $this->mpdf->x=$currentx;
					else $this->mpdf->x=$this->mpdf->lMargin;
					$w=$this->mpdf->w-$this->mpdf->rMargin-$this->mpdf->x;
					$wmax = ($w - ($this->mpdf->cMarginL+$this->mpdf->cMarginR));
				}
				$nl++;
			}
			else { $i++; }
		}
		//Last chunk
		// WORD SPACING
		$this->mpdf->ResetSpacing();
	}
	else {
		while($i<$nb) {
			//Get next character
			$c=$s[$i];
			if($c == "\n") {
				//Explicit line break
				// WORD SPACING
				$this->mpdf->ResetSpacing();
				$this->mpdf->Cell($w, $h, substr($s, $j, $i-$j), 0, 2, $align, $fill, $link);
				$i++;
				$sep = -1;
				$j = $i;
				$l = 0;
				if($nl == 1) {
					if ($currentx != 0) $this->mpdf->x=$currentx;
					else $this->mpdf->x=$this->mpdf->lMargin;
					$w = $this->mpdf->w - $this->mpdf->rMargin - $this->mpdf->x;
					$wmax=$w-($this->mpdf->cMarginL+$this->mpdf->cMarginR);
				}
				$nl++;
				continue;
			}
			if($c == " ") { $sep= $i; }
			$l += $this->mpdf->GetCharWidthCore($c);	// mPDF 5.3.04
			if($l > $wmax) {
				//Automatic line break (word wrapping)
				if($sep == -1) {
					// WORD SPACING
					$this->mpdf->ResetSpacing();
					if($this->mpdf->x > $this->mpdf->lMargin) {
						//Move to next line
						if ($currentx != 0) $this->mpdf->x=$currentx;
						else $this->mpdf->x=$this->mpdf->lMargin;
						$this->mpdf->y+=$h;
						$w=$this->mpdf->w-$this->mpdf->rMargin-$this->mpdf->x;
						$wmax=$w-($this->mpdf->cMarginL+$this->mpdf->cMarginR);
						$i++;
						$nl++;
						continue;
					}
					if($i==$j) { $i++; }
					$this->mpdf->Cell($w, $h, substr($s, $j, $i-$j), 0, 2, $align, $fill, $link);
				}
				else {
					$tmp = substr($s, $j, $sep-$j);
					if($align=='J') {
						//////////////////////////////////////////
						// JUSTIFY J using Unicode fonts
						// WORD SPACING is not fully supported for complex scripts
						// Change NON_BREAKING SPACE to spaces so they are 'spaced' properly
					      $tmp = str_replace(chr(160),chr(32),$tmp );
						$len_ligne = $this->mpdf->GetStringWidth($tmp );
						$nb_carac = strlen( $tmp ) ;  
						$nb_spaces = substr_count( $tmp ,' ' ) ;  
						list($charspacing,$ws) = $this->mpdf->GetJspacing($nb_carac,$nb_spaces,((($w-2) - $len_ligne) * _MPDFK),$false);
						$this->mpdf->SetSpacing($charspacing,$ws);
						//////////////////////////////////////////
					}
					$this->mpdf->Cell($w, $h, $tmp, 0, 2, $align, $fill, $link);
					$i=$sep+1;
				}
				$sep = -1;
				$j = $i;
				$l = 0;
				if($nl==1) {
					if ($currentx != 0) $this->mpdf->x=$currentx;
					else $this->mpdf->x=$this->mpdf->lMargin;
					$w=$this->mpdf->w-$this->mpdf->rMargin-$this->mpdf->x;
					$wmax=$w-($this->mpdf->cMarginL+$this->mpdf->cMarginR);
				}
				$nl++;
			}
			else {
				$i++;
			}
		}
		// WORD SPACING
		$this->mpdf->ResetSpacing();
	}
	//Last chunk
	if($i!=$j) {
		if ($currentx != 0) $this->mpdf->x=$currentx;
		else $this->mpdf->x=$this->mpdf->lMargin;	
		if ($this->mpdf->usingCoreFont) { $tmp = substr($s,$j,$i-$j); }
		else { $tmp = mb_substr($s,$j,$i-$j,$this->mpdf->mb_enc); }
		$this->mpdf->Cell($w,$h,$tmp,0,0,$align,$fill,$link);
	}
}


function CircularText($x, $y, $r, $text, $align='top', $fontfamily='', $fontsizePt=0, $fontstyle='', $kerning=120, $fontwidth=100, $divider='') {
	if ($fontfamily || $fontstyle || $fontsizePt) $this->mpdf->SetFont($fontfamily,$fontstyle,$fontsizePt);
	$kerning/=100;
	$fontwidth/=100;        
	if($kerning==0) $this->mpdf->Error('Please use values unequal to zero for kerning (CircularText)');
	if($fontwidth==0) $this->mpdf->Error('Please use values unequal to zero for font width (CircularText)');
	$text=str_replace("\r",'',$text);
	//circumference
	$u=($r*2)*M_PI;
	$checking = true;
	$autoset = false;
	while($checking) {
	   $t=0;
	   $w = array();
	   if ($this->mpdf->usingCoreFont)  {
		$nb=strlen($text); 
		for($i=0; $i<$nb; $i++){
			$w[$i]=$this->mpdf->GetStringWidth($text[$i]);
			$w[$i]*=$kerning*$fontwidth;
			$t+=$w[$i];
		}
	   }
	   else { 
		$nb=mb_strlen($text, $this->mpdf->mb_enc ); 
		$lastchar = '';
		$unicode = $this->mpdf->UTF8StringToArray($text);
		for($i=0; $i<$nb; $i++){
			$c = mb_substr($text,$i,1,$this->mpdf->mb_enc );
			$w[$i]=$this->mpdf->GetStringWidth($c);
			$w[$i]*=$kerning*$fontwidth;
			$char = $unicode[$i];
			if ($this->mpdf->useKerning && $lastchar) {
				if (isset($this->mpdf->CurrentFont['kerninfo'][$lastchar][$char])) { 
					$tk = $this->mpdf->CurrentFont['kerninfo'][$lastchar][$char] * ($this->mpdf->FontSize/ 1000) * $kerning * $fontwidth; 
					$w[$i] += $tk/2;
					$w[$i-1] += $tk/2;
					$t+=$tk;
				}
			}
			$lastchar = $char;
			$t+=$w[$i];
		}
	   }
	   if ($fontsizePt>=0 || $autoset) { $checking = false; }
	   else {
		$t+=$this->mpdf->GetStringWidth('  ');
		if ($divider)
			$t+=$this->mpdf->GetStringWidth('  ');
		if ($fontsizePt==-2)
			$fontsizePt = $this->mpdf->FontSizePt * 0.5  *  $u/$t;
		else 
			$fontsizePt = $this->mpdf->FontSizePt * $u/$t;
		$this->mpdf->SetFontSize($fontsizePt);
		$autoset = true;
	   }
	}

	//total width of string in degrees
	$d=($t/$u)*360;

	$this->mpdf->StartTransform();
	// rotate matrix for the first letter to center the text
	// (half of total degrees)
	if($align=='top'){
		$this->mpdf->transformRotate(-$d/2, $x, $y);
	}
	else{
		$this->mpdf->transformRotate($d/2, $x, $y);
	}
	//run through the string
	for($i=0; $i<$nb; $i++){
		if($align=='top'){
			//rotate matrix half of the width of current letter + half of the width of preceding letter
			if($i==0){
				$this->mpdf->transformRotate((($w[$i]/2)/$u)*360, $x, $y);
			}
			else{
				$this->mpdf->transformRotate((($w[$i]/2+$w[$i-1]/2)/$u)*360, $x, $y);
			}
			if($fontwidth!=1){
				$this->mpdf->StartTransform();
				$this->mpdf->transformScale($fontwidth*100, 100, $x, $y);
			}
			$this->mpdf->SetXY($x-$w[$i]/2, $y-$r);
		}
		else{
			//rotate matrix half of the width of current letter + half of the width of preceding letter
			if($i==0){
				$this->mpdf->transformRotate(-(($w[$i]/2)/$u)*360, $x, $y);
			}
			else{
				$this->mpdf->transformRotate(-(($w[$i]/2+$w[$i-1]/2)/$u)*360, $x, $y);
			}
			if($fontwidth!=1){
				$this->mpdf->StartTransform();
				$this->mpdf->transformScale($fontwidth*100, 100, $x, $y);
			}
			$this->mpdf->SetXY($x-$w[$i]/2, $y+$r-($this->mpdf->FontSize));
		}
		if ($this->mpdf->usingCoreFont) { $c=$text[$i]; }
		else { $c = mb_substr($text,$i,1,$this->mpdf->mb_enc ); }
		$this->mpdf->Cell(($w[$i]),$this->mpdf->FontSize,$c,0,0,'C');	// mPDF 5.3.53
		if($fontwidth!=1){
			$this->mpdf->StopTransform();
		}
	}
	$this->mpdf->StopTransform();

	// mPDF 5.5.23
	if($align=='top' && $divider!=''){
		$wc=$this->mpdf->GetStringWidth($divider);
		$wc*=$kerning*$fontwidth;

		$this->mpdf->StartTransform();
		$this->mpdf->transformRotate(90, $x, $y);
		$this->mpdf->SetXY($x-$wc/2, $y-$r);
		$this->mpdf->Cell(($wc),$this->mpdf->FontSize,$divider,0,0,'C');
		$this->mpdf->StopTransform();

		$this->mpdf->StartTransform();
		$this->mpdf->transformRotate(-90, $x, $y);
		$this->mpdf->SetXY($x-$wc/2, $y-$r);
		$this->mpdf->Cell(($wc),$this->mpdf->FontSize,$divider,0,0,'C');
		$this->mpdf->StopTransform();
	}
}

function Shaded_box( $text,$font='',$fontstyle='B',$szfont='',$width='70%',$style='DF',$radius=2.5,$fill='#FFFFFF',$color='#000000',$pad=2 ) {
	// F (shading - no line),S (line, no shading),DF (both)
	if (!$font) { $font= $this->mpdf->default_font; }
	if (!$szfont) { $szfont = ($this->mpdf->default_font_size * 1.8); }

	$text = ' '.$text.' ';
	$this->mpdf->SetFont( $font, $fontstyle, $szfont, false );

	$text = $this->mpdf->purify_utf8_text($text);
	if ($this->mpdf->text_input_as_HTML) {
		$text = $this->mpdf->all_entities_to_utf8($text);
	}
	if ($this->mpdf->usingCoreFont) { $text = mb_convert_encoding($text,$this->mpdf->mb_enc,'UTF-8'); }


	// DIRECTIONALITY
	if (preg_match("/([".$this->mpdf->pregRTLchars."])/u", $text)) { $this->mpdf->biDirectional = true; }	// *RTL*

	$textvar = 0;
	$save_OTLtags = $this->mpdf->OTLtags;
	$this->mpdf->OTLtags = array();
	if ($this->mpdf->useKerning) {
		if ($this->mpdf->CurrentFont['haskernGPOS']) { $this->mpdf->OTLtags['Plus'] .= ' kern'; }
		else { $textvar = ($textvar | FC_KERNING); }
	}
	// Use OTL OpenType Table Layout - GSUB & GPOS
	if (isset($this->mpdf->CurrentFont['useOTL']) && $this->mpdf->CurrentFont['useOTL']) {
		$text = $this->mpdf->otl->applyOTL($text, $this->mpdf->CurrentFont['useOTL']);
		$OTLdata = $this->mpdf->otl->OTLdata;
	}
	$this->mpdf->OTLtags = $save_OTLtags ;

	$this->mpdf->magic_reverse_dir($text, $this->mpdf->directionality, $OTLdata);

	if (!$width) { $width = $this->mpdf->pgwidth; } else { $width=$this->mpdf->ConvertSize($width,$this->mpdf->pgwidth); }
	$midpt = $this->mpdf->lMargin+($this->mpdf->pgwidth/2);
	$r1  = $midpt-($width/2);	//($this->mpdf->w / 2) - 40;
	$r2  = $r1 + $width; 		//$r1 + 80;
	$y1  = $this->mpdf->y;


	$mid = ($r1 + $r2 ) / 2;
	$loop   = 0;
    
	while ( $loop == 0 )
	{
		$this->mpdf->SetFont( $font, $fontstyle, $szfont, false );
		$sz = $this->mpdf->GetStringWidth( $text, true, $OTLdata, $textvar );
		if ( ($r1+$sz) > $r2 )
			$szfont --;
		else
			$loop ++;
	}
	$this->mpdf->SetFont( $font, $fontstyle, $szfont, true, true );

	$y2  = $this->mpdf->FontSize+($pad*2);

	$this->mpdf->SetLineWidth(0.1);
	$fc = $this->mpdf->ConvertColor($fill);
	$tc = $this->mpdf->ConvertColor($color);
	$this->mpdf->SetFColor($fc);
	$this->mpdf->SetTColor($tc);
	$this->mpdf->RoundedRect($r1, $y1, ($r2 - $r1), $y2, $radius, $style);
	$this->mpdf->SetX( $r1);
	$this->mpdf->Cell($r2-$r1, $y2, $text, 0, 1, "C",0,'',0,0,0,'M', 0, false, $OTLdata, $textvar );
	$this->mpdf->SetY($y1+$y2+2);	// +2 = mm margin below shaded box
	$this->mpdf->Reset();
}


}

?>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    INDX( 	 IÑ            (   ∞	  Ë       œœ“l               	     h X     ˇ     ⁄=¨Ú´?“ ëù+ÅÀœ!õŒﬁ*Í—⁄=¨Ú´?“      †             b a r c o d e . p h p 
     ` P     ˇ     =»µÚ´?“ Ø¨aÄ–Ã;z’ﬁ*Í—=»µÚ´?“        À              b m p . p h p      h V     ˇ     +⁄»Ú´?“ lÎDV– àÿﬁ*Í—+⁄»Ú´?“ 0     '              
c s s m g r . p h p        h X     ˇ     Øc“Ú´?“ 9ùSõŒlÄ‹ﬁ*Í—Øc“Ú´?“0       0       &       d e s k t o p . i n i      h X     ˇ     µwÂÚ´?“ ∂%≥‰ kß‹ﬁ*Í—µwÂÚ´?“ @      l5              d i r e c t w . p h p !     ` P     ˇ     l∆ÛÚ´?“ `Ÿ›„PÀôˇ·ﬁ*Í—l∆ÛÚ´?“ P      ïA              g i f . p h p "     h R     ˇ     :	Û´?“ ÜÈΩ¢ÃœÌ˜Âﬁ*Í—:	Û´?“ ê      fÅ              g r a d . p h p       #     h T     ˇ     \ÍÛ´?“ êﬁ:Ω€œ^Èﬁ*Í—\ÍÛ´?“      ,             	i n d i c . p h p     &     h T     ˇ     «ù*Û´?“ ‚rœ:Œdœﬁ*Í—«ù*Û´?“ 0      5*              	m e t e r . p h p     '     p Z     ˇ     Bá6Û´?“  ù36ı ¬«Ùﬁ*Í—Bá6Û´?“                   m p d f f o r m . p h p       (     h X     ˇ     +@Û´?“ M]õ|ÀœñX˚ﬁ*Í—+@Û´?“ @      7              m y a n m a r . p h p )     ` P     ˇ     #SÛ´?“ 1-≤Úœ-˛ﬁ*Í—#SÛ´?“ –     Ã             o t l . p h p *     p Z     ˇ     a¨\Û´?“ J<JË‘œTﬂ*Í—a¨\Û´?“ p     Dm             o t l _ d u m p . p h p       +     ` P     ˇ     .qaÛ´?“ m[¯o⁄œƒGﬂ*Í—.qaÛ´?“ 0      D(              s e a . p h p ,     ` P     ˇ     ¬oÛ´?  TlÅ–Ëxﬂ*Í—¬oÛ´?“      >             s v g . p h p -     p ^     ˇ     cGòÛ´?“ í…¶π¬œ -ﬂ*Í—cGòÛ´?“ Ä      |v              t o c o n t e n t s . p h p   -     p Z     ˇ     cGòÛ´?“ í…¶π¬œ -ﬂ*Í—cGòÛ´?“ Ä      |v              T O C O N T ~ 1 . P H P       .     p ^     ˇ     ≠¯®Û´?“ ∏~]Ÿ–ˆ!ﬂ*Í—≠¯®Û´?“      ‡             t t f o n t s u n i . p h p   /     Ä p     ˇ     "F∑Û´?“ Íl6æ9Œ®')ﬂ*Í—"F∑Û´?“ @      ’8              t t f o n t s u n i _ a n a  y s i s . p h p .     p Z     ˇ     ≠¯®Û´?“ ∏~]Ÿ–ˆ!ﬂ*Í—≠¯®Û´?“      ‡             T T F O N T ~ 1 . P H P       /     p Z     ˇ     "F∑Û´?“ Íl6æ9Œ®')ﬂ*Í—"F∑Û´?“ @      ’8              T T F O N T ~ 2 . P H P       0     h R     ˇ     éœ¿Û´?“ ∑û≠c÷œú,ﬂ*Í—éœ¿Û´?“ 0     "+             u c d n . p h p       1     ` P     ˇ     ?î≈Û´?“ ™VÂÿÃ^1ﬂ*Í—?î≈Û´?“        ì              w m f . p h p                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   INDX( 	 √©     
       (   ÿ  Ë        “S “   “              h X     d     gÃ)P´?“ EÜÆüü«kÚï‡*Í—gÃ)P´?“                     l o a d i n g . g i f À     p ^     d     gÃ)P´?“ ¡,Rá!œã@ñ‡*Í—gÃ)P´?“ ∞      :´              L o w e r _ L e f t . j p g   Ã     p `     d     ,,P´?“ èTá!œó‡*Í—,,P´?“ ∞      0ß              L o w e r _ R i g h t . j p g À     p Z     d     gÃ)P´?“ ¡,Rá!œã@ñ‡*Í—gÃ)P´?“ ∞      :´              L O W E R _ ~ 1 . J P G       Ã     p Z     d     ,,P´?“ èTá!œó‡*Í—,,P´?“ ∞      0ß              L O W E R _ ~ 2 . J P G       Õ     x f     d     aÛ0P´?“ `ÚÄù–Ë8ö‡*Í—aÛ0P´?“       ´              M a t h J a x P r o c e s s . p h p   Œ     x d     d     ∑U3P´?“ ¡zÙÕòJõ‡*Í—∑U3P´?“       V              M a t h J a x S a m p l e . h t m    Œ     p Z     d     ∑U3P´?“ ¡zÙÕòJõ‡*Í—∑U3P´?“       V              M A T H J A ~ 1 . H T M       Õ     p Z     d     aÛ0P´?“ `ÚÄù–Ë8ö‡*Í—aÛ0P´?        ´              M A T H J A ~ 1 . P H P       œ     p `     d     ∑U3P´?“ )ªr»_œ>Éú‡*Í—∑U3P´?“       	              m p d f s t y l e A 4 . c s s –     x f     d     iµ5P´?“ ûG≈Êoœ†ù‡*Í—iµ5P´?“       Å              m p d f s t y l e P a g e d . c s s  —     x h     d     iµ5P´?“ R!ﬁfœ&
û‡*Í—iµ5P´?“        )              m p d f s t y l e t a b l e s . c s s œ     p Z     d     ∑U3P´?“ )ªr»_œ>Éú‡*Í—∑U3P´?“       	              M P D F S T ~ 1 . C  S       –     p Z     d     iµ5P´?“ ûG≈Êoœ†ù‡*Í—iµ5P´?“       Å              M P D F S T ~ 2 . C S S       —     p Z     d     iµ5P´?“ R!ﬁfœ&
û‡*Í—iµ5P´?“        )              M P D F S T ~ 3 . C S S       “     x b     d     È8P´?“ ¨ÎµãF ¨Õû‡*Í—È8P´?“ †      µî              s a m p l e _ b a s i c . p d f       ”     Ä n     d     ?z:P´?“ A¥u#µ…)∏ü‡*Í—?z:P´?“ `     ^             s a m p l e _ l o g o h e a d e r 2 . p d f                 d     åA?P´?  rX˛ß…Ω¢†‡*Í—åA?P´?“       p˚              s a m p l e _ o r i e n t a t i o n 2 . p d f ’     Ä p     d     åA?P´?“ Dœöß…^¥°‡*Í—åA?P´?“       ˚              s a m p l e _ o r i e n t a t i o n 3 . p d f “     p Z     d     È8P´?“ ¨ÎµãF ¨Õû‡*Í—È8P´?“ †      µî              S A M P L E ~ 1 . P D F       ”     p Z     d     ?z:P´?“ A¥u#µ…)∏ü‡*Í—?z:P´?“ `     ^             S A M P L E ~ 2 . P D F       ‘     p Z     d     åA?P´?“ rX˛ß…Ω¢†‡*Í—åA?P´?“      p˚              S A M P L E ~ 3 . P D F       ’     p Z     d     åA?P´?“ Dœöß…^¥°‡*Í—åA?P´?“       ˚              S A M P L E ~ 4 . P D F       ÷     h V     d     ”°AP´?“ ÖpR≥ê«Èû¢‡*Í—”°AP´?“ Ä      ò{              
s u n s e t . j p g   ◊     h R     d     ”°AP´?“ ◊¢J–xâ£‡*Í—”°AP´?“ –     Èœ             t e s t . p d f       ÿ     h T     d     XDP´?“ " 	ã v^•‡*Í—XDP´?“ ¿     Næ             	t i g e r . b m p     Ÿ     h T     d     XDP´?“ É–ÿx Ê˙•‡*Í—XDP´?“       4˙             	t i g e r . g i f     ⁄     h T     d     âfFP´?“ Q±!Ãä…I¶‡*Í—âfFP´?“       x„              	t i g e r . j p g     €     h T     d     ÀHP´?“ ë™ QÃbÂ¶‡*Í—ÀHP´?“»      ƒ              	t i g e r . p h p     ‹     h T     d     ÀHP´?“ ˜Í€4Œ…ˇˆß‡*Í—ÀHP´?“ 0     é)             	t i g e r . p n g     ›     h T     d     ≈*KP´?“ ≥∑ÜÄNœ@E®‡*Í—≈*KP´?“ Ä     åy             	t i g e r . s v g     ﬁ     h T     d     ≈*KP´?  xó|Õä…¶©‡*Í—≈*KP´?“ P      I              	t i g e r . w m f     ﬂ     h V     d     ◊èMP´?“ ]ë´≠À'Ã©‡*Í—◊èMP´?“ P      G             
t i g e r 2 . p n g   ‡     h V     d     ◊èMP´?“ Z
¸Ñ∆ hA™‡*Í—◊èMP´?“      @             
t i g e r 2 . w m f   ·     p Z     d     ÄÔOP´?“ OÉ¨ç| ¸+´‡*Í—ÄÔOP´?“ †     (ï             T I G E R 2 ~ 1 . P N G                                                                                                                            INDX